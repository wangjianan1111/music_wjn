<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bjfu.notation_jh.dao.NotationChangeMapper">
    <resultMap id="BaseResultMap" type="com.bjfu.notation_jh.model.NotationChange">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Jan 15 11:05:12 CST 2019.
        -->
        <id column="id" property="id" jdbcType="BIGINT"/>
        <result column="uid" property="uid" jdbcType="VARCHAR"/>
        <result column="notation_id" property="notationId" jdbcType="BIGINT"/>
        <result column="content" property="content" jdbcType="VARCHAR"/>
        <result column="create_time" property="createTime" jdbcType="TIMESTAMP"/>
        <result column="modify_time" property="modifyTime" jdbcType="TIMESTAMP"/>
        <result column="tmp_id" property="tmpId" jdbcType="BIGINT"/>
        <result column="title" property="title" jdbcType="VARCHAR"/>
        <result column="subTitle" property="subTitle" jdbcType="VARCHAR"/>
        <result column="keyAndMeters" property="keyAndMeters" jdbcType="VARCHAR"/>
        <result column="wordsAndMusicBy" property="wordsAndMusicBy" jdbcType="VARCHAR"/>
    </resultMap>
    <sql id="Base_Column_List">
        id
        ,
        uid,
        notation_id,
        content,
        create_time,
        modify_time,
        tmp_id,
        title,
        subTitle,
        keyAndMeters,
        wordsAndMusicBy
    </sql>

    <!-- 查询转换参数 -->
    <select id="queryChangeParam" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from
        t_notation_change
        where uid = #{uid} and tmp_id = #{tmpId}
    </select>

    <!--保存前端参数-->
    <insert id="saveChangeParam" parameterType="com.bjfu.notation_jh.model.NotationChange">
        insert into t_notation_change (uid, notation_id,
                                       content, create_time, tmp_id, title, subTitle, keyAndMeters, wordsAndMusicBy)
        values (#{notationChange.uid}, #{notationChange.notationId},
                #{notationChange.content}, #{notationChange.createTime}, #{notationChange.tmpId}, #{notationChange.title}, #{notationChange.subTitle}, #{notationChange.keyAndMeters}, #{notationChange.wordsAndMusicBy})
    </insert>

    <!--更新前端参数表-->
    <update id="updateChangeParam" parameterType="com.bjfu.notation_jh.model.NotationChange">
        update t_notation_change
        <set>
            <if test="notationChange.content != null">
                content = #{notationChange.content,jdbcType=VARCHAR},
            </if>
            <if test="notationChange.title != null">
                title = #{notationChange.title,jdbcType=VARCHAR},
            </if>
            <if test="notationChange.subTitle != null">
                subTitle = #{notationChange.subTitle,jdbcType=VARCHAR},
            </if>
            <if test="notationChange.keyAndMeters != null">
                keyAndMeters = #{notationChange.keyAndMeters,jdbcType=VARCHAR},
            </if>
            <if test="notationChange.wordsByAndMusicBy != null">
                wordsByAndMusicBy = #{notationChange.wordsByAndMusicBy,jdbcType=VARCHAR},
            </if>
        </set>
        where tmpId = #{notationChange.tmpId} and uid = #{notationChange.uid}
    </update>
</mapper>





















